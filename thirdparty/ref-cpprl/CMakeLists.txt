project(ref_cpprl LANGUAGES CXX)

include(${CMAKE_SOURCE_DIR}/cmake/Utils.cmake)

set(CMAKE_INCLUDE_CURRENT_DIR ON)

find_package(Torch QUIET)

CHECK_LIBTORCH(${PROJECT_NAME})

GET_SUB_DIR_NAME(PROJECT_SOURCE_DIR_LIST ${CMAKE_CURRENT_SOURCE_DIR})

aux_source_directory(${PROJECT_SOURCE_DIR} PROJECT_SOURCE)
foreach (PROJECT_SOURCE_DIR ${PROJECT_SOURCE_DIR_LIST})
    aux_source_directory(${CMAKE_CURRENT_SOURCE_DIR}/${PROJECT_SOURCE_DIR} PROJECT_SOURCE)
endforeach ()

addExecutable(${PROJECT_NAME} "${PROJECT_SOURCE}")
linkLibtorch(${PROJECT_NAME})